<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta content="en-us" http-equiv="Content-Language" />
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<title>Signal Meter</title>
<style type="text/css">
.auto-style1 {
	margin-left: 40px;
}
.auto-style2 {
	border-style: solid;
	border-width: 1px;
	margin-left: 40px;
}
.auto-style3 {
	border-style: solid;
	border-width: 1px;
}
.auto-style4 {
	text-align: center;
}
.auto-style5 {
	border-width: 0px;
}
.auto-style6 {
	text-align: center;
	border-left-style: solid;
	border-left-width: 1px;
	border-right-style: solid;
	border-right-width: 1px;
	border-top-style: solid;
	border-top-width: 1px;
	border-bottom-style: solid;
}
.auto-style7 {
	text-align: center;
	border-left-style: solid;
	border-left-width: 1px;
	border-right-style: solid;
	border-right-width: 1px;
	border-top-style: solid;
	border-bottom-style: solid;
	border-bottom-width: 1px;
}
.auto-style8 {
	text-align: left;
}
.auto-style9 {
	border-left-style: none;
	border-left-width: medium;
	border-right-style: none;
	border-right-width: medium;
	border-top-style: none;
	border-top-width: medium;
}
.auto-style10 {
	text-align: center;
	border-left-style: none;
	border-left-width: medium;
	border-right-style: none;
	border-right-width: medium;
	border-bottom-style: none;
	border-bottom-width: medium;
}
.auto-style11 {
	border-width: 1px;
}
</style>
</head>

<body>

<h1>Signal Meter</h1>
<h2>Key Ideas</h2>
<ul>
	<li>Wireless communication.</li>
	<li>&nbsp;Link metrics. </li>
</ul>
<h2>Description</h2>
<p>eMote for ADAPT comes with radio networking capabilities built in. This app 
note shows you how to listen for radio traffic and determine information about 
sender, signal strength, etc.</p>
<h2>Compatibility</h2>
<p>ADAPT Core Hardware v 1.04, eMote release v 1.01 ** which ver?</p>
<h2>Complexity Level</h2>
<p>Fairly introductory. There is some complexity with respect to radio setup.</p>
<h2>Setup</h2>
<p>You'll need two or more ADAPT platforms, each with a
<a href="https://samraksh.com/products/small-battery-powered-computers/31-product-pages/product-small-battery-powered-computers/60-emote-now">
Samraksh Long-Range Radio</a> and a Samraksh Shim Adapter. Solder a wire to each 
of the Shim Board solder terminals specified in the table below. For the M_* and 
F_* pins, you can optionally solder in a pull-High or pull-Low 
(pull-up/pull-down) resistor; for Sleep, use a pull-Low resistor. Connect the 
Shim Adapter to the ADAPT platform as follows. You'll need a separate, external 
power supply.</p>

<table cellpadding="2" cellspacing="4" class="auto-style1">
	<tr>
		<td class="auto-style2" rowspan="2"><strong>ADAPT Dev Board Labeling</strong></td>
		<td class="auto-style2" rowspan="2"><strong>External Power Source</strong></td>
		<td class="auto-style4" colspan="3"><strong>Shim Adapter &amp; Long Range 
		Radio</strong></td>
	</tr>
	<tr>
		<td class="auto-style2"><strong>Shim Adapter Solder Terminals</strong></td>
		<td class="auto-style2"><strong>In/Out <br />
		wrt Long Range Radio</strong></td>
		<td class="auto-style2"><strong>Comments</strong></td>
	</tr>
	<tr>
		<td class="auto-style3">Gnd (not labeled; use Pin 10 on JTAG connector)<br />
		<a href="http://www.keil.com/support/man/docs/ulinkpro/conjtag.png">www.keil.com/support/man/docs/ulinkpro/conjtag.png</a></td>
		<td class="auto-style3">Gnd</td>
		<td class="auto-style3">Gnd</td>
		<td class="auto-style3">&nbsp;</td>
		<td class="auto-style3">Ground</td>
	</tr>
	<tr>
		<td class="auto-style5">&nbsp;</td>
		<td class="auto-style3">[1.8v, 2.0v]</td>
		<td class="auto-style3">VIO</td>
		<td class="auto-style3">In</td>
		<td class="auto-style3">Digital Logic</td>
	</tr>
	<tr>
		<td class="auto-style5">&nbsp;</td>
		<td class="auto-style3">[2.0v, 4.5 v]<br />
		Min 750 ma current </td>
		<td class="auto-style3">VBatt</td>
		<td class="auto-style3">In</td>
		<td class="auto-style3">Amplifier power</td>
	</tr>
	<tr>
		<td class="auto-style3">M_GP01</td>
		<td class="auto-style5">&nbsp;</td>
		<td class="auto-style3">A14</td>
		<td class="auto-style3">Input</td>
		<td class="auto-style3">SPI clock</td>
	</tr>
	<tr>
		<td class="auto-style3">M_GP02</td>
		<td class="auto-style5">&nbsp;&nbsp;</td>
		<td class="auto-style3">B1</td>
		<td class="auto-style3">Input</td>
		<td class="auto-style3">SPI MOSI (Master Out, Slave In)</td>
	</tr>
	<tr>
		<td class="auto-style3">M_GP03</td>
		<td class="auto-style5">&nbsp;</td>
		<td class="auto-style3">B2</td>
		<td class="auto-style3">Output</td>
		<td class="auto-style3">SPI MISO (Master In, Slave Out)</td>
	</tr>
	<tr>
		<td class="auto-style3">M_GP04</td>
		<td class="auto-style5">&nbsp;</td>
		<td class="auto-style3">B3</td>
		<td class="auto-style3">Output</td>
		<td class="auto-style3">Radio interrupt; active High</td>
	</tr>
	<tr>
		<td class="auto-style3">M_GP05</td>
		<td class="auto-style5">&nbsp;</td>
		<td class="auto-style3">A12</td>
		<td class="auto-style3">Input</td>
		<td class="auto-style3">Radio reset; active Low</td>
	</tr>
	<tr>
		<td class="auto-style3">F_GP01</td>
		<td class="auto-style5">&nbsp;</td>
		<td class="auto-style3">A13</td>
		<td class="auto-style3">Input</td>
		<td class="auto-style3">SPI chip select; active Low</td>
	</tr>
	<tr>
		<td class="auto-style3">F_GP03</td>
		<td class="auto-style5">&nbsp;</td>
		<td class="auto-style3">B4</td>
		<td class="auto-style3">Input</td>
		<td class="auto-style3">Sleep (use resistor to pull Low); active High</td>
	</tr>
	<tr>
		<td class="auto-style3">F_GP04</td>
		<td class="auto-style5">&nbsp;</td>
		<td class="auto-style3">B5</td>
		<td class="auto-style3">Input</td>
		<td class="auto-style3">Amplifier bypass (disables amplifier); active High</td>
	</tr>
	<tr>
		<td class="auto-style2" colspan="5">Note: M_* and F_* signals are Gnd for 
		Low, [1.8v, 2.0v] for High</td>
	</tr>
</table>
<h3>Using the Shim Adapter</h3>
<p>The Samraksh Shim Adapter provides a way to interface the Long Range Radio to 
other devices such as the ADAPT platform. The adapter is shown below.</p>
<table align="center" class="auto-style3">
	<tr>
		<td class="auto-style6">
		<img class="auto-style11" height="729" src="images/Shim%20Adapter600.png" width="600" /></td>
	</tr>
	<tr>
		<td class="auto-style7"><strong>The Samraksh Shim Adapter</strong></td>
	</tr>
</table>
<p class="auto-style8">Connect a Long Range Radio to the Shim Adapter as shown 
below.</p>
<table align="center" class="auto-style3">
	<tr>
		<td class="auto-style9">
		<img alt="" height="339" src="images/Shim%20Adapter,%20Long%20Range%20Radio600.png" width="300" /></td>
	</tr>
	<tr>
		<td class="auto-style10"><strong>Shim Adapter with Long Range Radio</strong></td>
	</tr>
</table>
<h2>Running the Program</h2>
<p>Use the ADAPT eMote User's Guide for details on running programs. Compile the 
program. Deploy it on each ADAPT platform by turn. Setup console monitors, one 
for each ADAPT platform. Start the program on each platform. You can see output 
on the monitors.</p>
<h2>Discussion</h2>
<p>The basic idea behind this app note is pretty simple. Both motes are running 
the same program. Each one periodically sends a broadcast message. When it 
receives a message, it prints information about the sender, signal strength, 
etc. on the debug log.</p>
<p>The app note includes a SimpleCsmaRadio class that is used to configure the 
radio. The constructor lets you specifiy the kind of radio (must be long-range 
for ADAPT), the CCA sense time, the transmit power, and a method to call when 
data is received. In the constructor call from Main, the CCA sense time and 
transmit power are set to typical values but you can change them if you'd like. 
The RadioReceive method gets the first message from the first packet and prints 
the details to the console. </p>

</body>

</html>
